<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Install Hugo - Hugo Whisper Theme</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="www.example.com/favicon.png">

  
  
  <link rel="stylesheet" href="/www.example.com/css/style.min.d0149e46d37ed09a60f55899204505f757aeb152bb817cdb02a1a2bf5728bb6b.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="www.example.com/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="www.example.com/docs/">
        <span>Docs</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="www.example.com"><img alt="Logo" src="/www.example.com/images/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="www.example.com"><img alt="Logo" src="/www.example.com/images/logo-mobile.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="www.example.com/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="www.example.com/docs/">
        <span>Docs</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Docs</h4>
  <ul>
    
    <li class="active ">
      <a href="www.example.com/docs/install-hugo/">Install Hugo</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/install-theme/">Install Theme</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/configure/">Configuration</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/specimen/">Specimen</a>
    </li>
    
    <li class="">
      <a href="www.example.com/docs/example/">Hugo Whisper</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">Install Hugo</h1>
<div class="content ">
  <h1 id="mapcalibration">MapCalibration</h1>
<p>The MapCalibration app's aim is to assist satnav-based navigation for
maps without GPS coordinates. The main idea is to calibrate the map by
setting reference markers on a satellite photo map, in locations easy to
identify on both maps. Then, the app computes the map scale. From now
on, an user can identify locations on the calibrated map by measuring
distances from reference markers. In detail, there are the following
types of markers (colors correspond to colors of respective markers):</p>
<ul>
<li>
<p><span style="color:red">reference marker</span> - specified by the
marker on the photo map or gps coordinates.</p>
</li>
<li>
<p><span style="color:orange">reference scale marker</span> - specified by placing a marker on
the photo map and giving the distance from the reference pin marker</p>
</li>
</ul>
<p>The scale of the map can be also typed explicitly.</p>
<p>When the scale of the map is known, we can specify points we would like
to find in the terrain:</p>
<ul>
<li>
<p><span style="color:green">target xy marker</span> - specified as a
horizontal and vertical distance from another marker</p>
</li>
<li>
<p><span style="color:blue">target 2-line marker</span> - exact
measuring of horizontal and vertical distances is not easy outdoors.
It is much easier to measure distances between points. A target
2-line marker is specified by giving the distances from any two
markers. Moreover, also it must be specified on which side of the
line connecting the reference points the intended location is
positioned.</p>
</li>
</ul>
<p>Every marker (either reference or target) can be selected as a target
for navigation. The app shows the distance and heading to this marker.</p>
<p>The app requires a network connection for showing the map.</p>
<p>The set of all markers currently defined can be saved. loaded</p>
<h2 id="example">Example</h2>
<ol>
<li>The map we use</li>
</ol>
<p>Assume that we are given the following map.</p>
<p align="center"> 
<img src="./doc/img/map1.png" width="800"  />
</p>
<p>The units we use for measuging distances are relevant only for the scale
(proportion of distance on the map and distance in the terrain). When we
do not care about the scale, we can use any units (pixels, centimeters,
milimeters, inches, etc).</p>
<ol start="2">
<li>The reference point</li>
</ol>
<p>We choose the first reference point at the crossroad (a location easy to
identify both on the map and in the sat photo). First we set a marker:</p>
<p align="center"> 
<img src="./doc/img/pazinskiego_marker.png" width="400"  align="center"/>
</p>
<p>The corresponding point can be then defined:</p>
<p align="center">
<img src="pazinskiego_dialog.png" width="400"  />
</p>
<p align="center">
<img src="./doc/img/pazinskiego_dialog.png" width="400"  />
</p>
<p>After setting the first point the displayed map looks as follows:</p>
<p align="center">
<img src="./doc/img/pazinskiego_punkt.png" width="400"  />
</p>
<p>The point is shown on the map and listed on the list of navigation
points.</p>
<ol start="3">
<li>Reference scale marker</li>
</ol>
<p>Now we add a GPS point for establishing the map scale. We choose a
corner of a pond by setting a marker and measuring on the map the
distance from the reference point defined previously:</p>
<p align="center">
<img src="./doc/img/map1.png" width="800" /><img
src="./doc/img/map0.png" width="800" />
</p>
<p>First we need to set a marker in the chosen location:</p>
<p align="center">
<img src="./doc/img/staw_marker.png" width="400"  />
</p>
<p>Then type the measured distance:</p>
<p align="center">
<img src="./doc/img/staw_dialog.png" width="400"  />
</p>
<p>After adding the point the scale of the map is computed and displayed:</p>
<p align="center">
<img src="./doc/img/staw_punkt.png" width="400"  />
</p>
<ol start="4">
<li>Target point 2-line:</li>
</ol>
<p>Now, after establishing the map's scale, we want to find a location with
respect to the reference points. Let it be one of the turns of a power
line.</p>
<p>The lines on the
map show the distances measured from two reference points:</p>
<p>koko</p>
<p align="center">
<img src="images/map1.png" width="800"  />
<p><img src="images/map2.png" width="800"  /></p>
</p>
<p>A target point is defined with respect to this data:</p>
<p align="center">
<img src="./doc/img/slup_dialog.png" width="400"  />
</p>
<p>As we can see, the point is found with the accuracy of just few meters:</p>
<p align="center">
<img src="./doc/img/slup_punkt.png" width="400"  />
</p>
<ol start="5">
<li>Selecting the target point - now the distance and heading to the
currently selected point is displayed at the bottom of the screen:</li>
</ol>
<p align="center">
<img src="./doc/img/slup_wybrany.png" width="400"  />
</p>
<h2 id="storing-points-in-the-phones-persistent-memory">Storing points in the phone's persistent memory</h2>
<h2 id="configuration">Configuration</h2>
<h3 id="todo">TODO:</h3>
<ul>
<li>offline satellite phtotomap</li>
<li>adding maps as images (possibly scanned)</li>
<li>displaying information on an android watch</li>
</ul>
<h1 id="mvvmarchitecture">MVVMArchitecture</h1>
<p><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License">
<a href="http://developer.android.com/index.html"><img src="https://img.shields.io/badge/platform-Android-green.svg" alt="Platform"></a></p>
<p>My way to MVVM pattern using RxJava, LiveData, Room, Paging with the Android databinding
<br/>
<br/></p>
<h2 id="what-is-mvvm-pattern">What is MVVM pattern?</h2>
<p>MVVM is an architectural pattern that was created to simplify user interface programming.
Google appears to be encouraging the use of MVVM for data binding.
In fact, the Architecture Components of its Data Binding Library are modeled on the MVVM pattern.</p>
<img src="images/databinding.png"/>
<br/>
<h2 id="samples">Samples</h2>
<h3 id="activity-layout-file">Activity Layout File</h3>
<div class="highlight"><pre class="chroma"><code class="language-xml" data-lang="xml">    <span class="nt">&lt;data</span><span class="nt">&gt;</span>
        <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">&#34;vm&#34;</span> <span class="na">type=</span><span class="s">&#34;com.mapcalibration.mvvm.viewmodel.search.SearchViewModel&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/data&gt;</span>
    
    <span class="nt">&lt;androidx.appcompat.widget.AppCompatImageButton</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/search_button&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;48dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;48dp&#34;</span>
        <span class="na">android:src=</span><span class="s">&#34;@drawable/ic_search&#34;</span>
        <span class="na">android:background=</span><span class="s">&#34;?attr/selectableItemBackgroundBorderless&#34;</span>
        <span class="na">android:onClick=</span><span class="s">&#34;@{() -&gt; vm.search()}&#34;</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">&#34;parent&#34;</span>
        <span class="na">app:layout_constraintRight_toRightOf=</span><span class="s">&#34;parent&#34;</span>
        <span class="na">app:layout_constraintLeft_toRightOf=</span><span class="s">&#34;@+id/search_edit&#34;</span><span class="nt">/&gt;</span>
</code></pre></div><h3 id="set-up-the-viewmodel">Set Up the ViewModel</h3>
<div class="highlight"><pre class="chroma"><code class="language-Kotlin" data-lang="Kotlin">    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="n">Bundle</span><span class="p">?</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="n">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>

        <span class="k">val</span> <span class="py">binding</span> <span class="p">=</span> <span class="n">DataBindingUtil</span><span class="p">.</span><span class="n">setContentView</span><span class="p">&lt;</span><span class="n">ActivitySearchBinding</span><span class="p">&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_search</span><span class="p">)</span>
        <span class="n">binding</span><span class="p">.</span><span class="n">vm</span> <span class="p">=</span> <span class="n">getViewModel</span><span class="p">(</span><span class="p">)</span>
        <span class="n">binding</span><span class="p">.</span><span class="n">setLifecycleOwner</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><h3 id="recyclerview-adapter-item-layout-file">RecyclerView Adapter Item Layout File</h3>
<div class="highlight"><pre class="chroma"><code class="language-xml" data-lang="xml">    <span class="nt">&lt;data</span><span class="nt">&gt;</span>
        <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">&#34;item&#34;</span> <span class="na">type=</span><span class="s">&#34;com.mapcalibration.mvvm.data.remote.domain.Repository&#34;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">&#34;vm&#34;</span> <span class="na">type=</span><span class="s">&#34;com.mapcalibration.mvvm.viewmodel.search.SearchViewModel&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/data&gt;</span>
    
    <span class="nt">&lt;androidx.appcompat.widget.AppCompatTextView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/repository_item_name&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:layout_marginStart=</span><span class="s">&#34;6dp&#34;</span>
        <span class="na">android:text=</span><span class="s">&#34;@{item.name}&#34;</span>
        <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">&#34;parent&#34;</span>
        <span class="na">app:layout_constraintBottom_toBottomOf=</span><span class="s">&#34;parent&#34;</span>
        <span class="na">app:layout_constraintLeft_toLeftOf=</span><span class="s">&#34;parent&#34;</span><span class="nt">/&gt;</span>
</code></pre></div><h3 id="databinding-in-viewholder">DataBinding in ViewHolder</h3>
<div class="highlight"><pre class="chroma"><code class="language-kotlin" data-lang="kotlin">    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onBindViewHolder</span><span class="p">(</span><span class="n">holder</span><span class="p">:</span> <span class="n">RepositoryViewHolder</span><span class="p">,</span> <span class="n">position</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">holder</span><span class="p">.</span><span class="n">binding</span><span class="p">.</span><span class="n">item</span> <span class="p">=</span> <span class="n">items</span><span class="p">[</span><span class="n">position</span><span class="p">]</span>
        <span class="n">holder</span><span class="p">.</span><span class="n">binding</span><span class="p">.</span><span class="n">vm</span> <span class="p">=</span> <span class="n">vm</span>
    <span class="p">}</span>
    
    <span class="k">class</span> <span class="nc">RepositoryViewHolder</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="n">View</span><span class="p">)</span> <span class="p">:</span> <span class="n">RecyclerView</span><span class="p">.</span><span class="n">ViewHolder</span><span class="p">(</span><span class="n">view</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">val</span> <span class="py">binding</span><span class="p">:</span> <span class="n">LayoutRepositoryItemBinding</span> <span class="p">=</span> <span class="n">LayoutRepositoryItemBinding</span><span class="p">.</span><span class="n">bind</span><span class="p">(</span><span class="n">view</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><br/>
<h2 id="libraries">Libraries</h2>
<h3 id="android-jetpack">Android Jetpack</h3>
<ul>
<li>
<p><a href="https://developer.android.com/topic/libraries/data-binding/">DataBinding</a> Declaratively bind observable data to UI elements.</p>
</li>
<li>
<p><a href="https://developer.android.com/topic/libraries/architecture/lifecycle">Lifecycle</a> Create a UI that automatically responds to lifecycle events.</p>
</li>
<li>
<p><a href="https://developer.android.com/topic/libraries/architecture/livedata">LiveData</a> Build data objects that notify views when the underlying database changes.</p>
</li>
<li>
<p><a href="https://developer.android.com/topic/libraries/architecture/viewmodel">ViewModel</a> Store UI-related data that isn't destroyed on app rotations. Easily schedule asynchronous tasks for optimal execution.</p>
</li>
<li>
<p><a href="https://developer.android.com/topic/libraries/architecture/room">Room</a> Access your app's SQLite database with in-app objects and compile-time checks.</p>
</li>
<li>
<p><a href="https://developer.android.com/topic/libraries/architecture/paging/">Paging</a> Makes it easier for you to load data gradually and gracefully within your app's RecyclerView.</p>
</li>
</ul>
<h3 id="http">HTTP</h3>
<ul>
<li>
<p><a href="https://github.com/square/retrofit">Retrofit2</a> Type-safe HTTP client for Android and Java by Square, Inc.</p>
</li>
<li>
<p><a href="https://github.com/square/okhttp">OkHttp</a> An HTTP+HTTP/2 client for Android and Java applications.</p>
</li>
</ul>
<h3 id="reactivex">ReactiveX</h3>
<ul>
<li>
<p><a href="https://github.com/ReactiveX/RxJava">RxJava2</a> A library for composing asynchronous and event-based programs using observable sequences for the Java VM</p>
</li>
<li>
<p><a href="https://github.com/ReactiveX/RxAndroid">RxAndroid</a> RxJava bindings for Android</p>
</li>
</ul>
<h3 id="di">DI</h3>
<ul>
<li><a href="https://insert-koin.io/">Koin</a> A pragmatic lightweight dependency injection framework for Kotlin developers.
<br/></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><a href="https://blogs.msdn.microsoft.com/msgulfcommunity/2013/03/13/understanding-the-basics-of-mvvm-design-pattern/">Understanding the basics of MVVM design pattern</a></li>
<li><a href="https://developer.android.com/topic/libraries/data-binding/">Data Binding Library</a>
<br/></li>
</ul>
<h2 id="license">License</h2>
<pre><code>Copyright 2019 Maciej Szreter

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre>

</div>
</div>

        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/www.example.com/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  

  
  
  
    
  


</body>

</html>
